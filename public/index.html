<!DOCTYPE html>
<html>
<head>
    <script src="tgo.js"></script>
    <style>
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
        }
        textarea {width: 100%; height : 20em}
    </style>
</head>
<body>
    <h1>Go Text Template Playground</h1>
    <hr/>
    <div class="grid">
        <div class="panel">
            <h2>JSON</h2>
            <textarea id="data" placeholder="JSON encoded data">{"name": "Go Text Template Playground"}</textarea>
        </div>
        <div class="panel">
            <h2>Template</h2>
            <textarea id="template" placeholder="Go text template">{{ .name }} is great</textarea>
        </div>
        <div class="panel">
            <h2>Output</h2>
            <textarea id="output" placeholder="Output"></textarea>
        </div>
        <div class="panel">
            <h2>Errors</h2>
            <textarea id="error" placeholder="Errors" readonly></textarea>
        </div>
    </div>
<script>
    const ttemplate = document.getElementById('template');
    const tdata = document.getElementById('data');
    const toutput = document.getElementById('output');
    const terror = document.getElementById('error');

    function process() {
        const [output, error] = window.renderTemplate(ttemplate.value, tdata.value)
        toutput.value = output;
        terror.value = error;
    };

    tdata.addEventListener('input', process);
    ttemplate.addEventListener('input', process);
    process();
</script>
</body>
</html>